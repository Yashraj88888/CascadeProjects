{"ast":null,"code":"var _jsxFileName = \"/home/ysrj/CascadeProjects/windsurf-project/infosec-portal/client/src/components/tools/ZapScanner.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ZapScanner = () => {\n  _s();\n  const [targetUrl, setTargetUrl] = useState('');\n  const [zapUrl, setZapUrl] = useState('http://localhost:8080');\n  const [zapApiKey, setZapApiKey] = useState('');\n  const [spiderId, setSpiderId] = useState(null);\n  const [scanId, setScanId] = useState(null);\n  const [spiderProgress, setSpiderProgress] = useState(0);\n  const [scanProgress, setScanProgress] = useState(0);\n  const [alerts, setAlerts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [health, setHealth] = useState(null);\n  const [outputLog, setOutputLog] = useState([]);\n  const [spiderStartTime, setSpiderStartTime] = useState(null);\n  const [scanStartTime, setScanStartTime] = useState(null);\n  const [spiderElapsed, setSpiderElapsed] = useState('');\n  const [scanElapsed, setScanElapsed] = useState('');\n  const [spiderUrls, setSpiderUrls] = useState([]);\n  const [showSpiderResults, setShowSpiderResults] = useState(false);\n  const spiderTimer = useRef(null);\n  const scanTimer = useRef(null);\n  const outputRef = useRef(null);\n  const addLog = (message, type = 'info') => {\n    const timestamp = new Date().toLocaleTimeString();\n    setOutputLog(prev => [...prev, {\n      timestamp,\n      message,\n      type\n    }]);\n    setTimeout(() => {\n      if (outputRef.current) {\n        outputRef.current.scrollTop = outputRef.current.scrollHeight;\n      }\n    }, 100);\n  };\n  const formatElapsedTime = startTime => {\n    const elapsed = Date.now() - startTime;\n    const seconds = Math.floor(elapsed / 1000);\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return minutes > 0 ? `${minutes}m ${remainingSeconds}s` : `${seconds}s`;\n  };\n  useEffect(() => {\n    return () => {\n      if (spiderTimer.current) window.clearInterval(spiderTimer.current);\n      if (scanTimer.current) window.clearInterval(scanTimer.current);\n    };\n  }, []);\n  useEffect(() => {\n    if (spiderStartTime && spiderProgress < 100) {\n      const timer = setInterval(() => {\n        setSpiderElapsed(formatElapsedTime(spiderStartTime));\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  }, [spiderStartTime, spiderProgress]);\n  useEffect(() => {\n    if (scanStartTime && scanProgress < 100) {\n      const timer = setInterval(() => {\n        setScanElapsed(formatElapsedTime(scanStartTime));\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  }, [scanStartTime, scanProgress]);\n  const startSpider = async () => {\n    if (!targetUrl) return;\n    setError(null);\n    setHealth(null);\n    setAlerts([]);\n    setSpiderProgress(0);\n    setScanProgress(0);\n    setLoading(true);\n    const startTime = Date.now();\n    setSpiderStartTime(startTime);\n    setSpiderElapsed('0s');\n    addLog('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');\n    addLog(`Starting Spider Scan for: ${targetUrl}`, 'info');\n    addLog(`Scan Mode: Recursive crawling`, 'info');\n    addLog(`ZAP Instance: ${zapUrl}`, 'info');\n    addLog('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');\n    try {\n      const {\n        data\n      } = await api.post('/zap/spider', {\n        targetUrl,\n        zapUrl,\n        zapApiKey\n      });\n      setSpiderId(data.scanId);\n      addLog(`âœ“ Spider scan initiated successfully`, 'success');\n      addLog(`Scan ID: ${data.scanId}`, 'info');\n      addLog(`Starting to crawl web pages...`, 'info');\n      let lastProgress = 0;\n      // Poll status\n      spiderTimer.current = window.setInterval(async () => {\n        const {\n          data: s\n        } = await api.get(`/zap/spider/${data.scanId}`, {\n          params: {\n            zapUrl,\n            zapApiKey\n          }\n        });\n        setSpiderProgress(s.status);\n        if (s.status !== lastProgress && s.status % 20 === 0) {\n          addLog(`Spider progress: ${s.status}% complete`, 'info');\n          lastProgress = s.status;\n        }\n        if (s.status >= 100) {\n          if (spiderTimer.current) window.clearInterval(spiderTimer.current);\n          const elapsed = formatElapsedTime(startTime);\n          setSpiderElapsed(elapsed);\n          addLog(`âœ“ Spider scan completed in ${elapsed}`, 'success');\n\n          // Fetch spider results\n          try {\n            const {\n              data: results\n            } = await api.get(`/zap/spider/${data.scanId}/results`, {\n              params: {\n                zapUrl,\n                zapApiKey\n              }\n            });\n            const urls = results.urls || [];\n            setSpiderUrls(urls);\n            setShowSpiderResults(true);\n            addLog(`Found ${urls.length} URLs during spider scan`, 'success');\n            addLog(`All accessible pages have been crawled`, 'success');\n          } catch (err) {\n            addLog(`âš  Could not fetch spider results`, 'warning');\n          }\n          setLoading(false);\n        }\n      }, 1200);\n    } catch (e) {\n      var _e$response, _e$response$data, _e$response2, _e$response2$data;\n      const errMsg = (e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.error) || 'Failed to start spider';\n      setError(errMsg);\n      addLog(`âœ— Error: ${errMsg}`, 'error');\n      addLog(`Details: ${(e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.details) || e.message}`, 'error');\n      setLoading(false);\n    }\n  };\n  const startActiveScan = async () => {\n    if (!targetUrl) return;\n    setError(null);\n    setHealth(null);\n    setScanProgress(0);\n    setLoading(true);\n    const startTime = Date.now();\n    setScanStartTime(startTime);\n    setScanElapsed('0s');\n    addLog('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'warning');\n    addLog(`Starting Active Scan for: ${targetUrl}`, 'warning');\n    addLog(`Scan Type: Comprehensive vulnerability testing`, 'info');\n    addLog(`ZAP Instance: ${zapUrl}`, 'info');\n    addLog('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'warning');\n    try {\n      const {\n        data\n      } = await api.post('/zap/activescan', {\n        targetUrl,\n        zapUrl,\n        zapApiKey\n      });\n      setScanId(data.scanId);\n      addLog(`âœ“ Active scan initiated successfully`, 'success');\n      addLog(`Scan ID: ${data.scanId}`, 'info');\n      addLog(`Testing for vulnerabilities: XSS, SQLi, CSRF, etc.`, 'info');\n      let lastProgress = 0;\n      scanTimer.current = window.setInterval(async () => {\n        const {\n          data: s\n        } = await api.get(`/zap/activescan/${data.scanId}`, {\n          params: {\n            zapUrl,\n            zapApiKey\n          }\n        });\n        setScanProgress(s.status);\n        if (s.status !== lastProgress && s.status % 20 === 0) {\n          addLog(`Active scan progress: ${s.status}% complete`, 'info');\n          lastProgress = s.status;\n        }\n        if (s.status >= 100) {\n          var _a$alerts, _a$alerts2;\n          if (scanTimer.current) window.clearInterval(scanTimer.current);\n          const elapsed = formatElapsedTime(startTime);\n          setScanElapsed(elapsed);\n          addLog(`âœ“ Active scan completed in ${elapsed}`, 'success');\n          addLog(`Fetching vulnerability alerts...`, 'info');\n\n          // fetch alerts\n          const {\n            data: a\n          } = await api.get(`/zap/alerts`, {\n            params: {\n              baseUrl: targetUrl,\n              zapUrl,\n              zapApiKey\n            }\n          });\n          setAlerts(a.alerts || []);\n          addLog(`Found ${((_a$alerts = a.alerts) === null || _a$alerts === void 0 ? void 0 : _a$alerts.length) || 0} security alerts`, ((_a$alerts2 = a.alerts) === null || _a$alerts2 === void 0 ? void 0 : _a$alerts2.length) > 0 ? 'warning' : 'success');\n          if (a.alerts && a.alerts.length > 0) {\n            const highRisk = a.alerts.filter(alert => alert.risk === 'High').length;\n            const mediumRisk = a.alerts.filter(alert => alert.risk === 'Medium').length;\n            const lowRisk = a.alerts.filter(alert => alert.risk === 'Low').length;\n            addLog(`  - High Risk: ${highRisk}`, highRisk > 0 ? 'error' : 'info');\n            addLog(`  - Medium Risk: ${mediumRisk}`, mediumRisk > 0 ? 'warning' : 'info');\n            addLog(`  - Low Risk: ${lowRisk}`, 'info');\n          }\n          setLoading(false);\n        }\n      }, 1500);\n    } catch (e) {\n      var _e$response3, _e$response3$data, _e$response4, _e$response4$data;\n      const errMsg = (e === null || e === void 0 ? void 0 : (_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : _e$response3$data.error) || 'Failed to start active scan';\n      setError(errMsg);\n      addLog(`âœ— Error: ${errMsg}`, 'error');\n      addLog(`Details: ${(e === null || e === void 0 ? void 0 : (_e$response4 = e.response) === null || _e$response4 === void 0 ? void 0 : (_e$response4$data = _e$response4.data) === null || _e$response4$data === void 0 ? void 0 : _e$response4$data.details) || e.message}`, 'error');\n      setLoading(false);\n    }\n  };\n  const checkHealth = async () => {\n    setError(null);\n    setHealth(null);\n    addLog(`Checking ZAP connection at ${zapUrl}...`, 'info');\n    try {\n      const {\n        data\n      } = await api.get('/zap/health', {\n        params: {\n          zapUrl,\n          zapApiKey\n        }\n      });\n      setHealth(`ZAP OK - Version: ${data.version || 'unknown'} (${data.zapUrl})`);\n      addLog(`âœ“ ZAP is online and ready`, 'success');\n      addLog(`Version: ${data.version || 'unknown'}`, 'info');\n    } catch (e) {\n      var _e$response5;\n      const errData = e === null || e === void 0 ? void 0 : (_e$response5 = e.response) === null || _e$response5 === void 0 ? void 0 : _e$response5.data;\n      const errMsg = (errData === null || errData === void 0 ? void 0 : errData.error) || 'ZAP not reachable';\n      const helpMsg = (errData === null || errData === void 0 ? void 0 : errData.help) || '';\n      setError(`${errMsg}\\n\\n${helpMsg}\\n\\nSee ZAP_SETUP_GUIDE.md for detailed instructions.`);\n      addLog(`âœ— ${errMsg}`, 'error');\n    }\n  };\n  const clearOutput = () => {\n    setOutputLog([]);\n    addLog('Output console cleared', 'info');\n  };\n  const getLogColor = type => {\n    switch (type) {\n      case 'success':\n        return '#10b981';\n      case 'error':\n        return '#ef4444';\n      case 'warning':\n        return '#f59e0b';\n      default:\n        return '#9ca3af';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginTop: 0\n      },\n      children: \"OWASP ZAP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"ll-muted\",\n      children: \"Run spider and active scan, then view alerts.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ll-card ll-card--purple\",\n      style: {\n        marginTop: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ll-row\",\n        style: {\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"ll-input\",\n          value: zapUrl,\n          onChange: e => setZapUrl(e.target.value),\n          placeholder: \"ZAP URL (e.g., http://localhost:8080)\",\n          style: {\n            flex: 1,\n            minWidth: 260\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"ll-input\",\n          value: zapApiKey,\n          onChange: e => setZapApiKey(e.target.value),\n          placeholder: \"ZAP API Key (if enabled)\",\n          style: {\n            flex: 1,\n            minWidth: 220\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ll-button\",\n          onClick: checkHealth,\n          disabled: loading,\n          children: \"Check ZAP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), health && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#10b981',\n          marginTop: 10\n        },\n        children: health\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 20\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#f87171',\n          marginTop: 10,\n          whiteSpace: 'pre-wrap',\n          fontSize: '13px'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ll-card ll-card--purple\",\n      style: {\n        marginTop: 12\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ll-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"ll-input\",\n          value: targetUrl,\n          onChange: e => setTargetUrl(e.target.value),\n          placeholder: \"https://example.com\",\n          style: {\n            flex: 1,\n            minWidth: 260\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ll-button\",\n          onClick: startSpider,\n          disabled: loading || !targetUrl,\n          children: loading ? 'Working...' : 'Start Spider'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ll-button\",\n          onClick: startActiveScan,\n          disabled: loading || !targetUrl,\n          children: loading ? 'Working...' : 'Start Active Scan'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#f87171',\n        marginTop: 12\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ll-card ll-card--purple\",\n      style: {\n        marginTop: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83D\\uDCCB Scan Output Console\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ll-button\",\n          onClick: clearOutput,\n          style: {\n            padding: '4px 12px',\n            fontSize: '13px'\n          },\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: outputRef,\n        style: {\n          background: '#000000',\n          border: '1px solid #7c3aed',\n          borderRadius: 6,\n          padding: 12,\n          height: 320,\n          overflowY: 'auto',\n          fontFamily: 'monospace',\n          fontSize: 13,\n          lineHeight: 1.6\n        },\n        children: outputLog.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#6b7280',\n            fontStyle: 'italic'\n          },\n          children: \"Scan output will appear here...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this) : outputLog.map((log, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 4\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#6b7280'\n            },\n            children: [\"[\", log.timestamp, \"]\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 17\n          }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: getLogColor(log.type)\n            },\n            children: log.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 17\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), (spiderId || scanId) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ll-grid\",\n      style: {\n        marginTop: 12\n      },\n      children: [spiderId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ll-card ll-card--purple\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: 6\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"\\uD83D\\uDD77\\uFE0F Spider Progress: \", spiderProgress, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 17\n          }, this), spiderElapsed && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ll-muted\",\n            children: [\"\\u23F1\\uFE0F \", spiderElapsed]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 10,\n            background: '#0b1220',\n            borderRadius: 6\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: '100%',\n              width: `${spiderProgress}%`,\n              background: 'linear-gradient(90deg, #3b82f6, #2563eb)',\n              borderRadius: 6,\n              transition: 'width 0.3s ease'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 13\n      }, this), scanId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ll-card ll-card--purple\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: 6\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"\\uD83D\\uDD0D Active Scan Progress: \", scanProgress, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 17\n          }, this), scanElapsed && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ll-muted\",\n            children: [\"\\u23F1\\uFE0F \", scanElapsed]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 10,\n            background: '#0b1220',\n            borderRadius: 6\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: '100%',\n              width: `${scanProgress}%`,\n              background: 'linear-gradient(90deg, #10b981, #059669)',\n              borderRadius: 6,\n              transition: 'width 0.3s ease'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 9\n    }, this), showSpiderResults && spiderUrls.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ll-card ll-card--purple\",\n      style: {\n        marginTop: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"\\uD83D\\uDD77\\uFE0F Spider Scan Results - URLs Discovered (\", spiderUrls.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ll-button\",\n          onClick: () => setShowSpiderResults(false),\n          style: {\n            padding: '4px 12px',\n            fontSize: '13px'\n          },\n          children: \"Hide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#000000',\n          border: '1px solid #7c3aed',\n          borderRadius: 6,\n          padding: 12,\n          maxHeight: 400,\n          overflowY: 'auto'\n        },\n        children: spiderUrls.map((url, idx) => {\n          // Categorize URLs\n          const isAsset = url.match(/\\.(css|js|png|jpg|jpeg|gif|svg|ico|woff|woff2|ttf)$/i);\n          const isAPI = url.includes('/api/');\n          const isAdmin = url.includes('/admin');\n          const isAuth = url.match(/(login|register|signin|signup|auth)/i);\n          let color = '#9ca3af'; // default\n          let icon = 'ðŸ“„';\n          if (isAdmin) {\n            color = '#ef4444';\n            icon = 'ðŸ”';\n          } else if (isAuth) {\n            color = '#f59e0b';\n            icon = 'ðŸ”‘';\n          } else if (isAPI) {\n            color = '#3b82f6';\n            icon = 'ðŸ”Œ';\n          } else if (isAsset) {\n            color = '#6b7280';\n            icon = 'ðŸ“¦';\n          }\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 6,\n              padding: '6px 8px',\n              background: '#0b1220',\n              borderRadius: 4,\n              borderLeft: `3px solid ${color}`,\n              fontSize: 12,\n              fontFamily: 'monospace',\n              display: 'flex',\n              alignItems: 'center',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: 14\n              },\n              children: icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color,\n                flex: 1,\n                wordBreak: 'break-all'\n              },\n              children: url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 19\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12,\n          fontSize: 13,\n          color: '#9ca3af'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Legend:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',\n            gap: 8,\n            marginTop: 6\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#ef4444'\n              },\n              children: \"\\uD83D\\uDD10 Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 20\n            }, this), \" pages\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#f59e0b'\n              },\n              children: \"\\uD83D\\uDD11 Authentication\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 20\n            }, this), \" pages\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#3b82f6'\n              },\n              children: \"\\uD83D\\uDD0C API\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 20\n            }, this), \" endpoints\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#6b7280'\n              },\n              children: \"\\uD83D\\uDCE6 Assets\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 20\n            }, this), \" (CSS, JS, images)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#9ca3af'\n              },\n              children: \"\\uD83D\\uDCC4 Regular\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 20\n            }, this), \" pages\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 9\n    }, this), alerts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: '8px 0'\n        },\n        children: [\"\\uD83D\\uDEA8 Vulnerability Alerts (\", alerts.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ll-grid\",\n        children: alerts.map((a, i) => {\n          const riskColors = {\n            'High': '#ef4444',\n            'Medium': '#f59e0b',\n            'Low': '#3b82f6',\n            'Informational': '#6b7280'\n          };\n          const riskColor = riskColors[a.risk] || '#93c5fd';\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ll-card ll-card--purple\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'start'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  flex: 1\n                },\n                children: a.alert\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: riskColor,\n                  fontWeight: 'bold',\n                  padding: '2px 8px',\n                  borderRadius: 4,\n                  background: `${riskColor}20`,\n                  fontSize: '12px'\n                },\n                children: a.risk\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ll-muted\",\n              style: {\n                marginTop: 8,\n                fontSize: '13px'\n              },\n              children: a.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 19\n            }, this), a.solution && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 8,\n                fontSize: '13px',\n                color: '#10b981'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83D\\uDCA1 Solution:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 23\n              }, this), \" \", a.solution]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 21\n            }, this), a.instances && a.instances.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#9ca3af',\n                  marginBottom: 4\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"\\uD83D\\uDCCD Affected URLs (\", a.instances.length, \"):\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: '#6b7280',\n                  background: '#0b1220',\n                  padding: 6,\n                  borderRadius: 4,\n                  maxHeight: 80,\n                  overflowY: 'auto'\n                },\n                children: [a.instances.slice(0, 3).map((inst, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginBottom: 2\n                  },\n                  children: [\"\\u2192 \", inst.uri]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 27\n                }, this)), a.instances.length > 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: '#9ca3af',\n                    marginTop: 4\n                  },\n                  children: [\"... and \", a.instances.length - 3, \" more\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 21\n            }, this), a.confidence && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 8,\n                fontSize: '12px',\n                color: '#9ca3af'\n              },\n              children: [\"Confidence: \", a.confidence]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 21\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 5\n  }, this);\n};\n_s(ZapScanner, \"wY+V5juGTueOeG3Hl/PIKuEKt4I=\");\n_c = ZapScanner;\nexport default ZapScanner;\nvar _c;\n$RefreshReg$(_c, \"ZapScanner\");","map":{"version":3,"names":["React","useEffect","useRef","useState","api","jsxDEV","_jsxDEV","ZapScanner","_s","targetUrl","setTargetUrl","zapUrl","setZapUrl","zapApiKey","setZapApiKey","spiderId","setSpiderId","scanId","setScanId","spiderProgress","setSpiderProgress","scanProgress","setScanProgress","alerts","setAlerts","loading","setLoading","error","setError","health","setHealth","outputLog","setOutputLog","spiderStartTime","setSpiderStartTime","scanStartTime","setScanStartTime","spiderElapsed","setSpiderElapsed","scanElapsed","setScanElapsed","spiderUrls","setSpiderUrls","showSpiderResults","setShowSpiderResults","spiderTimer","scanTimer","outputRef","addLog","message","type","timestamp","Date","toLocaleTimeString","prev","setTimeout","current","scrollTop","scrollHeight","formatElapsedTime","startTime","elapsed","now","seconds","Math","floor","minutes","remainingSeconds","window","clearInterval","timer","setInterval","startSpider","data","post","lastProgress","s","get","params","status","results","urls","length","err","e","_e$response","_e$response$data","_e$response2","_e$response2$data","errMsg","response","details","startActiveScan","_a$alerts","_a$alerts2","a","baseUrl","highRisk","filter","alert","risk","mediumRisk","lowRisk","_e$response3","_e$response3$data","_e$response4","_e$response4$data","checkHealth","version","_e$response5","errData","helpMsg","help","clearOutput","getLogColor","children","style","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","className","justifyContent","value","onChange","target","placeholder","flex","minWidth","onClick","disabled","color","whiteSpace","fontSize","display","alignItems","marginBottom","padding","ref","background","border","borderRadius","height","overflowY","fontFamily","lineHeight","fontStyle","map","log","idx","width","transition","maxHeight","url","isAsset","match","isAPI","includes","isAdmin","isAuth","icon","borderLeft","gap","wordBreak","gridTemplateColumns","margin","i","riskColors","riskColor","fontWeight","description","solution","instances","slice","inst","uri","confidence","_c","$RefreshReg$"],"sources":["/home/ysrj/CascadeProjects/windsurf-project/infosec-portal/client/src/components/tools/ZapScanner.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport api from '../../services/api';\n\ntype AlertsResponse = { alerts: any[] };\n\ninterface LogEntry {\n  timestamp: string;\n  message: string;\n  type: 'info' | 'success' | 'error' | 'warning';\n}\n\nconst ZapScanner: React.FC = () => {\n  const [targetUrl, setTargetUrl] = useState('');\n  const [zapUrl, setZapUrl] = useState('http://localhost:8080');\n  const [zapApiKey, setZapApiKey] = useState('');\n  const [spiderId, setSpiderId] = useState<string | null>(null);\n  const [scanId, setScanId] = useState<string | null>(null);\n  const [spiderProgress, setSpiderProgress] = useState<number>(0);\n  const [scanProgress, setScanProgress] = useState<number>(0);\n  const [alerts, setAlerts] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [health, setHealth] = useState<string | null>(null);\n  const [outputLog, setOutputLog] = useState<LogEntry[]>([]);\n  const [spiderStartTime, setSpiderStartTime] = useState<number | null>(null);\n  const [scanStartTime, setScanStartTime] = useState<number | null>(null);\n  const [spiderElapsed, setSpiderElapsed] = useState<string>('');\n  const [scanElapsed, setScanElapsed] = useState<string>('');\n  const [spiderUrls, setSpiderUrls] = useState<string[]>([]);\n  const [showSpiderResults, setShowSpiderResults] = useState(false);\n  const spiderTimer = useRef<number | null>(null);\n  const scanTimer = useRef<number | null>(null);\n  const outputRef = useRef<HTMLDivElement>(null);\n\n  const addLog = (message: string, type: LogEntry['type'] = 'info') => {\n    const timestamp = new Date().toLocaleTimeString();\n    setOutputLog(prev => [...prev, { timestamp, message, type }]);\n    setTimeout(() => {\n      if (outputRef.current) {\n        outputRef.current.scrollTop = outputRef.current.scrollHeight;\n      }\n    }, 100);\n  };\n\n  const formatElapsedTime = (startTime: number): string => {\n    const elapsed = Date.now() - startTime;\n    const seconds = Math.floor(elapsed / 1000);\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return minutes > 0 ? `${minutes}m ${remainingSeconds}s` : `${seconds}s`;\n  };\n\n  useEffect(() => {\n    return () => {\n      if (spiderTimer.current) window.clearInterval(spiderTimer.current);\n      if (scanTimer.current) window.clearInterval(scanTimer.current);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (spiderStartTime && spiderProgress < 100) {\n      const timer = setInterval(() => {\n        setSpiderElapsed(formatElapsedTime(spiderStartTime));\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  }, [spiderStartTime, spiderProgress]);\n\n  useEffect(() => {\n    if (scanStartTime && scanProgress < 100) {\n      const timer = setInterval(() => {\n        setScanElapsed(formatElapsedTime(scanStartTime));\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  }, [scanStartTime, scanProgress]);\n\n  const startSpider = async () => {\n    if (!targetUrl) return;\n    setError(null);\n    setHealth(null);\n    setAlerts([]);\n    setSpiderProgress(0);\n    setScanProgress(0);\n    setLoading(true);\n    const startTime = Date.now();\n    setSpiderStartTime(startTime);\n    setSpiderElapsed('0s');\n    \n    addLog('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');\n    addLog(`Starting Spider Scan for: ${targetUrl}`, 'info');\n    addLog(`Scan Mode: Recursive crawling`, 'info');\n    addLog(`ZAP Instance: ${zapUrl}`, 'info');\n    addLog('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'info');\n    \n    try {\n      const { data } = await api.post('/zap/spider', { targetUrl, zapUrl, zapApiKey });\n      setSpiderId(data.scanId);\n      addLog(`âœ“ Spider scan initiated successfully`, 'success');\n      addLog(`Scan ID: ${data.scanId}`, 'info');\n      addLog(`Starting to crawl web pages...`, 'info');\n      \n      let lastProgress = 0;\n      // Poll status\n      spiderTimer.current = window.setInterval(async () => {\n        const { data: s } = await api.get(`/zap/spider/${data.scanId}`, { params: { zapUrl, zapApiKey } });\n        setSpiderProgress(s.status);\n        \n        if (s.status !== lastProgress && s.status % 20 === 0) {\n          addLog(`Spider progress: ${s.status}% complete`, 'info');\n          lastProgress = s.status;\n        }\n        \n        if (s.status >= 100) {\n          if (spiderTimer.current) window.clearInterval(spiderTimer.current);\n          const elapsed = formatElapsedTime(startTime);\n          setSpiderElapsed(elapsed);\n          addLog(`âœ“ Spider scan completed in ${elapsed}`, 'success');\n          \n          // Fetch spider results\n          try {\n            const { data: results } = await api.get(`/zap/spider/${data.scanId}/results`, { params: { zapUrl, zapApiKey } });\n            const urls = results.urls || [];\n            setSpiderUrls(urls);\n            setShowSpiderResults(true);\n            addLog(`Found ${urls.length} URLs during spider scan`, 'success');\n            addLog(`All accessible pages have been crawled`, 'success');\n          } catch (err: any) {\n            addLog(`âš  Could not fetch spider results`, 'warning');\n          }\n          \n          setLoading(false);\n        }\n      }, 1200);\n    } catch (e: any) {\n      const errMsg = e?.response?.data?.error || 'Failed to start spider';\n      setError(errMsg);\n      addLog(`âœ— Error: ${errMsg}`, 'error');\n      addLog(`Details: ${e?.response?.data?.details || e.message}`, 'error');\n      setLoading(false);\n    }\n  };\n\n  const startActiveScan = async () => {\n    if (!targetUrl) return;\n    setError(null);\n    setHealth(null);\n    setScanProgress(0);\n    setLoading(true);\n    const startTime = Date.now();\n    setScanStartTime(startTime);\n    setScanElapsed('0s');\n    \n    addLog('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'warning');\n    addLog(`Starting Active Scan for: ${targetUrl}`, 'warning');\n    addLog(`Scan Type: Comprehensive vulnerability testing`, 'info');\n    addLog(`ZAP Instance: ${zapUrl}`, 'info');\n    addLog('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”', 'warning');\n    \n    try {\n      const { data } = await api.post('/zap/activescan', { targetUrl, zapUrl, zapApiKey });\n      setScanId(data.scanId);\n      addLog(`âœ“ Active scan initiated successfully`, 'success');\n      addLog(`Scan ID: ${data.scanId}`, 'info');\n      addLog(`Testing for vulnerabilities: XSS, SQLi, CSRF, etc.`, 'info');\n      \n      let lastProgress = 0;\n      scanTimer.current = window.setInterval(async () => {\n        const { data: s } = await api.get(`/zap/activescan/${data.scanId}`, { params: { zapUrl, zapApiKey } });\n        setScanProgress(s.status);\n        \n        if (s.status !== lastProgress && s.status % 20 === 0) {\n          addLog(`Active scan progress: ${s.status}% complete`, 'info');\n          lastProgress = s.status;\n        }\n        \n        if (s.status >= 100) {\n          if (scanTimer.current) window.clearInterval(scanTimer.current);\n          const elapsed = formatElapsedTime(startTime);\n          setScanElapsed(elapsed);\n          addLog(`âœ“ Active scan completed in ${elapsed}`, 'success');\n          addLog(`Fetching vulnerability alerts...`, 'info');\n          \n          // fetch alerts\n          const { data: a } = await api.get<AlertsResponse>(`/zap/alerts`, { params: { baseUrl: targetUrl, zapUrl, zapApiKey } });\n          setAlerts(a.alerts || []);\n          addLog(`Found ${a.alerts?.length || 0} security alerts`, a.alerts?.length > 0 ? 'warning' : 'success');\n          \n          if (a.alerts && a.alerts.length > 0) {\n            const highRisk = a.alerts.filter((alert: any) => alert.risk === 'High').length;\n            const mediumRisk = a.alerts.filter((alert: any) => alert.risk === 'Medium').length;\n            const lowRisk = a.alerts.filter((alert: any) => alert.risk === 'Low').length;\n            addLog(`  - High Risk: ${highRisk}`, highRisk > 0 ? 'error' : 'info');\n            addLog(`  - Medium Risk: ${mediumRisk}`, mediumRisk > 0 ? 'warning' : 'info');\n            addLog(`  - Low Risk: ${lowRisk}`, 'info');\n          }\n          \n          setLoading(false);\n        }\n      }, 1500);\n    } catch (e: any) {\n      const errMsg = e?.response?.data?.error || 'Failed to start active scan';\n      setError(errMsg);\n      addLog(`âœ— Error: ${errMsg}`, 'error');\n      addLog(`Details: ${e?.response?.data?.details || e.message}`, 'error');\n      setLoading(false);\n    }\n  };\n\n  const checkHealth = async () => {\n    setError(null);\n    setHealth(null);\n    addLog(`Checking ZAP connection at ${zapUrl}...`, 'info');\n    try {\n      const { data } = await api.get('/zap/health', { params: { zapUrl, zapApiKey } });\n      setHealth(`ZAP OK - Version: ${data.version || 'unknown'} (${data.zapUrl})`);\n      addLog(`âœ“ ZAP is online and ready`, 'success');\n      addLog(`Version: ${data.version || 'unknown'}`, 'info');\n    } catch (e: any) {\n      const errData = e?.response?.data;\n      const errMsg = errData?.error || 'ZAP not reachable';\n      const helpMsg = errData?.help || '';\n      setError(`${errMsg}\\n\\n${helpMsg}\\n\\nSee ZAP_SETUP_GUIDE.md for detailed instructions.`);\n      addLog(`âœ— ${errMsg}`, 'error');\n    }\n  };\n\n  const clearOutput = () => {\n    setOutputLog([]);\n    addLog('Output console cleared', 'info');\n  };\n\n  const getLogColor = (type: LogEntry['type']) => {\n    switch (type) {\n      case 'success': return '#10b981';\n      case 'error': return '#ef4444';\n      case 'warning': return '#f59e0b';\n      default: return '#9ca3af';\n    }\n  };\n\n  return (\n    <div>\n      <h2 style={{ marginTop: 0 }}>OWASP ZAP</h2>\n      <p className=\"ll-muted\">Run spider and active scan, then view alerts.</p>\n\n      <div className=\"ll-card ll-card--purple\" style={{ marginTop: 12 }}>\n        <div className=\"ll-row\" style={{ justifyContent: 'space-between' }}>\n          <input\n            className=\"ll-input\"\n            value={zapUrl}\n            onChange={(e) => setZapUrl(e.target.value)}\n            placeholder=\"ZAP URL (e.g., http://localhost:8080)\"\n            style={{ flex: 1, minWidth: 260 }}\n          />\n          <input\n            className=\"ll-input\"\n            value={zapApiKey}\n            onChange={(e) => setZapApiKey(e.target.value)}\n            placeholder=\"ZAP API Key (if enabled)\"\n            style={{ flex: 1, minWidth: 220 }}\n          />\n          <button className=\"ll-button\" onClick={checkHealth} disabled={loading}>Check ZAP</button>\n        </div>\n        {health && <div style={{ color: '#10b981', marginTop: 10 }}>{health}</div>}\n        {error && <div style={{ color: '#f87171', marginTop: 10, whiteSpace: 'pre-wrap', fontSize: '13px' }}>{error}</div>}\n      </div>\n\n      <div className=\"ll-card ll-card--purple\" style={{ marginTop: 12 }}>\n        <div className=\"ll-row\">\n          <input\n            className=\"ll-input\"\n            value={targetUrl}\n            onChange={(e) => setTargetUrl(e.target.value)}\n            placeholder=\"https://example.com\"\n            style={{ flex: 1, minWidth: 260 }}\n          />\n          <button className=\"ll-button\" onClick={startSpider} disabled={loading || !targetUrl}>\n            {loading ? 'Working...' : 'Start Spider'}\n          </button>\n          <button className=\"ll-button\" onClick={startActiveScan} disabled={loading || !targetUrl}>\n            {loading ? 'Working...' : 'Start Active Scan'}\n          </button>\n        </div>\n      </div>\n      {error && <div style={{ color: '#f87171', marginTop: 12 }}>{error}</div>}\n\n      {/* Output Console */}\n      <div className=\"ll-card ll-card--purple\" style={{ marginTop: 12 }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 8 }}>\n          <strong>ðŸ“‹ Scan Output Console</strong>\n          <button \n            className=\"ll-button\" \n            onClick={clearOutput} \n            style={{ padding: '4px 12px', fontSize: '13px' }}\n          >\n            Clear\n          </button>\n        </div>\n        <div \n          ref={outputRef}\n          style={{\n            background: '#000000',\n            border: '1px solid #7c3aed',\n            borderRadius: 6,\n            padding: 12,\n            height: 320,\n            overflowY: 'auto',\n            fontFamily: 'monospace',\n            fontSize: 13,\n            lineHeight: 1.6\n          }}\n        >\n          {outputLog.length === 0 ? (\n            <div style={{ color: '#6b7280', fontStyle: 'italic' }}>\n              Scan output will appear here...\n            </div>\n          ) : (\n            outputLog.map((log, idx) => (\n              <div key={idx} style={{ marginBottom: 4 }}>\n                <span style={{ color: '#6b7280' }}>[{log.timestamp}]</span>{' '}\n                <span style={{ color: getLogColor(log.type) }}>{log.message}</span>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* Progress Bars */}\n      {(spiderId || scanId) && (\n        <div className=\"ll-grid\" style={{ marginTop: 12 }}>\n          {spiderId && (\n            <div className=\"ll-card ll-card--purple\">\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 6 }}>\n                <strong>ðŸ•·ï¸ Spider Progress: {spiderProgress}%</strong>\n                {spiderElapsed && <span className=\"ll-muted\">â±ï¸ {spiderElapsed}</span>}\n              </div>\n              <div style={{ height: 10, background: '#0b1220', borderRadius: 6 }}>\n                <div style={{ \n                  height: '100%', \n                  width: `${spiderProgress}%`, \n                  background: 'linear-gradient(90deg, #3b82f6, #2563eb)', \n                  borderRadius: 6,\n                  transition: 'width 0.3s ease'\n                }} />\n              </div>\n            </div>\n          )}\n          {scanId && (\n            <div className=\"ll-card ll-card--purple\">\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 6 }}>\n                <strong>ðŸ” Active Scan Progress: {scanProgress}%</strong>\n                {scanElapsed && <span className=\"ll-muted\">â±ï¸ {scanElapsed}</span>}\n              </div>\n              <div style={{ height: 10, background: '#0b1220', borderRadius: 6 }}>\n                <div style={{ \n                  height: '100%', \n                  width: `${scanProgress}%`, \n                  background: 'linear-gradient(90deg, #10b981, #059669)', \n                  borderRadius: 6,\n                  transition: 'width 0.3s ease'\n                }} />\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Spider Scan Results */}\n      {showSpiderResults && spiderUrls.length > 0 && (\n        <div className=\"ll-card ll-card--purple\" style={{ marginTop: 12 }}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 12 }}>\n            <strong>ðŸ•·ï¸ Spider Scan Results - URLs Discovered ({spiderUrls.length})</strong>\n            <button \n              className=\"ll-button\" \n              onClick={() => setShowSpiderResults(false)}\n              style={{ padding: '4px 12px', fontSize: '13px' }}\n            >\n              Hide\n            </button>\n          </div>\n          \n          <div style={{\n            background: '#000000',\n            border: '1px solid #7c3aed',\n            borderRadius: 6,\n            padding: 12,\n            maxHeight: 400,\n            overflowY: 'auto'\n          }}>\n            {spiderUrls.map((url, idx) => {\n              // Categorize URLs\n              const isAsset = url.match(/\\.(css|js|png|jpg|jpeg|gif|svg|ico|woff|woff2|ttf)$/i);\n              const isAPI = url.includes('/api/');\n              const isAdmin = url.includes('/admin');\n              const isAuth = url.match(/(login|register|signin|signup|auth)/i);\n              \n              let color = '#9ca3af'; // default\n              let icon = 'ðŸ“„';\n              \n              if (isAdmin) {\n                color = '#ef4444';\n                icon = 'ðŸ”';\n              } else if (isAuth) {\n                color = '#f59e0b';\n                icon = 'ðŸ”‘';\n              } else if (isAPI) {\n                color = '#3b82f6';\n                icon = 'ðŸ”Œ';\n              } else if (isAsset) {\n                color = '#6b7280';\n                icon = 'ðŸ“¦';\n              }\n              \n              return (\n                <div \n                  key={idx} \n                  style={{ \n                    marginBottom: 6, \n                    padding: '6px 8px',\n                    background: '#0b1220',\n                    borderRadius: 4,\n                    borderLeft: `3px solid ${color}`,\n                    fontSize: 12,\n                    fontFamily: 'monospace',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 8\n                  }}\n                >\n                  <span style={{ fontSize: 14 }}>{icon}</span>\n                  <span style={{ color, flex: 1, wordBreak: 'break-all' }}>{url}</span>\n                </div>\n              );\n            })}\n          </div>\n          \n          <div style={{ marginTop: 12, fontSize: 13, color: '#9ca3af' }}>\n            <strong>Legend:</strong>\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))', gap: 8, marginTop: 6 }}>\n              <div><span style={{ color: '#ef4444' }}>ðŸ” Admin</span> pages</div>\n              <div><span style={{ color: '#f59e0b' }}>ðŸ”‘ Authentication</span> pages</div>\n              <div><span style={{ color: '#3b82f6' }}>ðŸ”Œ API</span> endpoints</div>\n              <div><span style={{ color: '#6b7280' }}>ðŸ“¦ Assets</span> (CSS, JS, images)</div>\n              <div><span style={{ color: '#9ca3af' }}>ðŸ“„ Regular</span> pages</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Vulnerability Alerts */}\n      {alerts.length > 0 && (\n        <div style={{ marginTop: 16 }}>\n          <h3 style={{ margin: '8px 0' }}>ðŸš¨ Vulnerability Alerts ({alerts.length})</h3>\n          <div className=\"ll-grid\">\n            {alerts.map((a: any, i: number) => {\n              const riskColors: Record<string, string> = {\n                'High': '#ef4444',\n                'Medium': '#f59e0b',\n                'Low': '#3b82f6',\n                'Informational': '#6b7280'\n              };\n              const riskColor = riskColors[a.risk] || '#93c5fd';\n              \n              return (\n                <div key={i} className=\"ll-card ll-card--purple\">\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start' }}>\n                    <strong style={{ flex: 1 }}>{a.alert}</strong>\n                    <span style={{ \n                      color: riskColor, \n                      fontWeight: 'bold',\n                      padding: '2px 8px',\n                      borderRadius: 4,\n                      background: `${riskColor}20`,\n                      fontSize: '12px'\n                    }}>\n                      {a.risk}\n                    </span>\n                  </div>\n                  \n                  <div className=\"ll-muted\" style={{ marginTop: 8, fontSize: '13px' }}>\n                    {a.description}\n                  </div>\n                  \n                  {a.solution && (\n                    <div style={{ marginTop: 8, fontSize: '13px', color: '#10b981' }}>\n                      <strong>ðŸ’¡ Solution:</strong> {a.solution}\n                    </div>\n                  )}\n                  \n                  {a.instances && a.instances.length > 0 && (\n                    <div style={{ marginTop: 8 }}>\n                      <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: 4 }}>\n                        <strong>ðŸ“ Affected URLs ({a.instances.length}):</strong>\n                      </div>\n                      <div style={{ \n                        fontSize: '11px', \n                        color: '#6b7280',\n                        background: '#0b1220',\n                        padding: 6,\n                        borderRadius: 4,\n                        maxHeight: 80,\n                        overflowY: 'auto'\n                      }}>\n                        {a.instances.slice(0, 3).map((inst: any, idx: number) => (\n                          <div key={idx} style={{ marginBottom: 2 }}>\n                            â†’ {inst.uri}\n                          </div>\n                        ))}\n                        {a.instances.length > 3 && (\n                          <div style={{ color: '#9ca3af', marginTop: 4 }}>\n                            ... and {a.instances.length - 3} more\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                  \n                  {a.confidence && (\n                    <div style={{ marginTop: 8, fontSize: '12px', color: '#9ca3af' }}>\n                      Confidence: {a.confidence}\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ZapScanner;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}